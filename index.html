<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Constructor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .student {
            margin-bottom: 20px;
        }
        .student h2 {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Student Constructor </h1>

    <div id="output"></div>

    <script>
        class Student {
            constructor(firstName, lastName, birthYear, grades = []) {
                this.firstName = firstName;
                this.lastName = lastName;
                this.birthYear = birthYear;
                this.grades = grades;
                this.attendance = Array(25).fill(null); 
            }

            getAge() {
                const currentYear = new Date().getFullYear();
                return currentYear - this.birthYear;
            }

            getAverageGrade() {
                if (this.grades.length === 0) return 0;
                const total = this.grades.reduce((sum, grade) => sum + grade, 0);
                return total / this.grades.length;
            }

            present() {
                const index = this.attendance.indexOf(null);
                if (index !== -1) {
                    this.attendance[index] = true;
                } else {
                    console.warn("Attendance record is full.");
                }
            }

            absent() {
                const index = this.attendance.indexOf(null);
                if (index !== -1) {
                    this.attendance[index] = false;
                } else {
                    console.warn("Attendance record is full.");
                }
            }

            summary() {
                const averageGrade = this.getAverageGrade();
                const attendanceRate = this.attendance.filter(a => a === true).length / this.attendance.length;

                if (averageGrade > 90 && attendanceRate > 0.9) {
                    return "Молодець!";
                } else if (averageGrade > 90 || attendanceRate > 0.9) {
                    return "Добре, але можна краще";
                } else {
                    return "Редиска!";
                }
            }
        }

        const student1 = new Student("Іван", "Петренко", 2003, [95, 88, 92]);
        const student2 = new Student("Марія", "Шевченко", 2002, [78, 85, 80]);
        const student3 = new Student("Олег", "Коваленко", 2001, [60, 70, 75]);

        student1.present();
        student1.present();
        student1.absent();

        student2.absent();
        student2.present();
        student2.present();

        student3.absent();
        student3.absent();
        student3.absent();

        const output = document.getElementById("output");
        [student1, student2, student3].forEach(student => {
            const div = document.createElement("div");
            div.className = "student";
            div.innerHTML = `
                <h2>${student.firstName} ${student.lastName}</h2>
                <p>Вік: ${student.getAge()}</p>
                <p>Середній бал: ${student.getAverageGrade().toFixed(2)}</p>
                <p>Відвідування: ${student.attendance.filter(a => a !== null).length}/25</p>
                <p>Резюме: ${student.summary()}</p>
            `;
            output.appendChild(div);
        });
    </script>
</body>
</html>